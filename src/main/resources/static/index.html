<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>GameStore - Your Digital Gaming Hub</title>
  <link rel="stylesheet" href="/styles.css">
</head>
<body>
  <header class="container">
    <h1>ðŸŽ® GameStore</h1>
    <div class="auth">
      <span id="welcomeMessage">Welcome, <span id="currentUsername"></span>!</span>
      <button id="logoutBtn" class="logout-btn">Logout</button>
    </div>
  </header>

  <main class="container">
    <!-- User Profile Section -->
    <section class="panel" id="profilePanel" style="display: none;">
      <div class="panel-header">
        <h2>ðŸ‘¤ My Profile</h2>
        <button id="refreshProfileBtn">Refresh</button>
      </div>
      <div id="profileContent" class="profile-content">
        <div class="profile-stats">
          <div class="stat">
            <span class="stat-label">Wallet Balance</span>
            <span id="walletBalance" class="stat-value">$0.00</span>
          </div>
          <div class="stat">
            <span class="stat-label">Games Owned</span>
            <span id="gamesOwned" class="stat-value">0</span>
          </div>
          <div class="stat">
            <span class="stat-label">Total Spent</span>
            <span id="totalSpent" class="stat-value">$0.00</span>
          </div>
          <div class="stat">
            <span class="stat-label">Premium Member</span>
            <span id="premiumStatus" class="stat-value">No</span>
          </div>
        </div>
        <div class="wallet-actions">
          <input id="walletAmount" type="number" placeholder="Amount" step="0.01" min="0">
          <button id="addWalletBtn">Add to Wallet</button>
        </div>
      </div>
    </section>

    <!-- Subscription Section -->
    <section class="panel" id="subscriptionPanel" style="display: none;">
      <div class="panel-header">
        <h2>ðŸ’Ž Subscription</h2>
        <button id="refreshSubscriptionBtn">Refresh</button>
      </div>
      <div id="subscriptionContent" class="subscription-content">
        <div id="subscriptionInfo" class="subscription-info">
          <p>No active subscription</p>
        </div>
        <div class="subscription-plans">
          <div class="plan">
            <h3>Basic</h3>
            <div class="price">$9.99/month</div>
            <ul>
              <li>Access to free games</li>
              <li>Basic support</li>
            </ul>
            <button class="subscribe-btn" data-plan="BASIC">Subscribe</button>
          </div>
          <div class="plan">
            <h3>Premium</h3>
            <div class="price">$19.99/month</div>
            <ul>
              <li>All Basic features</li>
              <li>Premium games library</li>
              <li>Priority support</li>
            </ul>
            <button class="subscribe-btn" data-plan="PREMIUM">Subscribe</button>
          </div>
          <div class="plan">
            <h3>Ultimate</h3>
            <div class="price">$29.99/month</div>
            <ul>
              <li>All Premium features</li>
              <li>Early access to new games</li>
              <li>Exclusive content</li>
            </ul>
            <button class="subscribe-btn" data-plan="ULTIMATE">Subscribe</button>
          </div>
        </div>
        <button id="cancelSubscriptionBtn" style="display: none;">Cancel Subscription</button>
      </div>
    </section>

    <!-- Game Store Section -->
    <section class="panel">
      <div class="panel-header">
        <h2>ðŸ›’ Game Store</h2>
        <div class="store-controls">
          <select id="categoryFilter">
            <option value="">All Categories</option>
            <option value="RPG">RPG</option>
            <option value="Action">Action</option>
            <option value="FPS">FPS</option>
            <option value="Sports">Sports</option>
            <option value="MOBA">MOBA</option>
            <option value="Sandbox">Sandbox</option>
            <option value="Multiplayer">Multiplayer</option>
            <option value="Party">Party</option>
          </select>
          <input id="searchInput" type="text" placeholder="Search games...">
          <button id="searchBtn">Search</button>
        </div>
      </div>
      <div id="gamesGrid" class="games-grid">
        <!-- Games will be loaded here -->
      </div>
    </section>

    <!-- My Games Section -->
    <section class="panel" id="myGamesPanel" style="display: none;">
      <div class="panel-header">
        <h2>ðŸŽ¯ My Games</h2>
        <button id="refreshPurchasesBtn">Refresh</button>
      </div>
      <div id="purchasesList" class="purchases-list">
        <!-- Purchases will be loaded here -->
      </div>
    </section>

    <!-- Analytics Section -->
    <section class="panel">
      <div class="panel-header">
        <h2>ðŸ“Š Store Analytics</h2>
        <button id="refreshStatsBtn">Refresh</button>
      </div>
      <div id="analyticsContent" class="analytics-content">
        <div class="stats-grid">
          <div class="stat-card">
            <h3>Top Spenders</h3>
            <div id="topSpenders" class="stat-list"></div>
          </div>
          <div class="stat-card">
            <h3>Top Buyers</h3>
            <div id="topBuyers" class="stat-list"></div>
          </div>
          <div class="stat-card">
            <h3>Store Stats</h3>
            <div id="storeStats" class="stat-list"></div>
          </div>
        </div>
      </div>
    </section>
  </main>

  <footer class="container footer">
    <p>ðŸŽ® <strong>GameStore</strong> - Your digital gaming hub powered by Spring Boot & MongoDB Atlas</p>
    <p>Buy games, manage subscriptions, and track your gaming journey!</p>
  </footer>

  <canvas id="confetti"></canvas>
  <script src="/app.js"></script>
</body>
</html>